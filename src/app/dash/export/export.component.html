<div>
  <div class="container pt-3">

    <!-- Header -->
    <div class="d-flex align-items-center mb-3">

      <!-- Title -->
      <p class="fw-bold mb-0">Export Transactions</p>

      <!-- Info -->
      <div class="ms-auto badge bg-info badge-pill px-3"
           title="Number of transactions by your selected filters and dates.">
        <b>{{ count >= 0 ? ( count | number ) : '...' }}</b> Selected
      </div>
    </div>

    <!-- Cards -->
    <div class="row">

      <!-- Filters -->
      <div class="col-lg-4">
        <div class="card h-100 pb-3">
          <div class="card-header">Select Filters</div>
          <div class="card-body">
            <p>Filter what transactions you want to include for exporting.</p>
            <app-filters [filters]="filters" (update)="filtersSelected = $event; load()"></app-filters>
            <button class="btn btn-light w-100 mt-3" (click)="filtersSelected = {}; load()">
              Clear Filters
            </button>
          </div>
        </div>
      </div>

      <!-- Date -->
      <div class="col-lg-4">
        <div class="card h-100 pb-3">
          <div class="card-header">Select Date Range</div>
          <div class="card-body">

            <p>Include transactions between specific dates. Dates are ignored if they are not set.</p>

            <div class="form-group">
              <label for="from">From</label>
              <input type="date" id="from" class="form-control"
                     [(ngModel)]="from" (change)="load()">
            </div>

            <div class="form-group">
              <label for="to">To</label>
              <input type="date" id="to" class="form-control"
                     [(ngModel)]="to" (change)="load()">
            </div>

            <button class="btn btn-light w-100"
                    (click)="from = null; to = null; load()"
                    [disabled]="!from && !to">
              Clear Dates
            </button>
          </div>
        </div>
      </div>

      <!-- Export -->
      <div class="col-lg-4">
        <div class="card h-100 pb-3">
          <div class="card-header">Select Export Type</div>
          <div class="card-body">
            <p>Select what kind of file you want to export your transactions to.</p>
            <button class="btn btn-primary w-100"
                    [class.mt-2]="!first"
                    *ngFor="let option of options; let first = first"
                    (click)="submit(option)">
              {{ option.label }}
            </button>
            <hr>
            <a class="btn btn-dark w-100" routerLink="../pages">Mange Public Pages</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


